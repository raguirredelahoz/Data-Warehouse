<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>compañias</title>
    <link rel="stylesheet" href="companias.css">
    <link rel="stylesheet" href="alert.css">
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.css">
</head>
<body>
    <header>
        <a href="index.html"> <img src="https://w7.pngwing.com/pngs/216/509/png-transparent-mongodb-node-js-npm-open-source-model-angularjs-leaf-leaf-logo-grass.png" alt="Logo"></a>
        <nav class="menu">
            <ul>
                <li><a href="contactos.html">Contactos</a></li>
                <li><a href="companias.html">Compañias</a></li>
                <li><a href="usuarios.html">Usuarios</a></li>
                <li><a href="region.html">Region/Ciudad</a></li>
            </ul>
        </nav>
    </header>
    <main id="companias">
        <section class="form-user"> 
        <h5>Compañias</h5>
        <input class= "controls" type="text" id="name" value="" placeholder="Nombre">
        <input class= "controls" type="text" id="adress" value="" placeholder="Dirección">
        <input class= "controls" type="text" id="email" value="" placeholder="Email">
        <input class= "controls" type="text" id="phone" value="" placeholder="Telefono">
        <select id= "cities">
            <option disabled selected="">Seleccione una Ciudad</option>   
            </select>
        <button id="grabar" class="buttons">Grabar</button>
        </section>          
    </main>
    <section id="grilla-compania">
        <table
        id="table"
        data-toolbar="#toolbar"
        data-search="true"
        data-click-to-select="true"
        data-pagination="true"
        data-id-field="id_companias"
        data-page-list="[10, 25, 50, 100, all]"
        data-side-pagination="server"
        data-url="http://localhost:3000/companias"
        >
      </table>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <script src="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script>  
    <script src="api.js" type="text/javascript"></script>
    <script src="alert.js" type="text/javascript"></script> 
    <script src="companias.js" type="text/javascript"></script>
   <script type="text/javascript">
        var $table = $('#table')
        var $remove = $('#remove')
        var selections = []
      
        function operateFormatter(value, row, index) {
          return [
            '<a class="remove" href="javascript:void(0)" title="Remove">',
            '<i class="fa fa-trash"></i>',
            '</a>'
          ].join('')
        }
      
        window.operateEvents = {
          'click .remove': function (e, value, row, index) {
              console.log('windowOperateEvent',e, value, row, index);
            $table.bootstrapTable('remove', {
              field: 'id_companias',
              values: [row.id_companias]
            })
          }
        }
      
        function initTable() {
          $table.bootstrapTable('destroy').bootstrapTable({
            height: 550,
            columns: [
              [{
                title: 'ID',
                field: 'id_companias',
                align: 'center',
                valign: 'middle',
                sortable: true
              }, {
                field: 'name',
                title: 'Nombre',
                sortable: true,
                align: 'center'
              }, {
                field: 'address',
                title: 'Dirección',
                sortable: true,
                align: 'center'
              },{
                field: 'phone',
                title: 'Telefono',
                sortable: true,
                align: 'center'
              }, {
                field: 'email',
                title: 'Email',
                sortable: true,
                align: 'center'
              }, {
                field: 'cities_id',
                title: 'Ciudad',
                sortable: true,
                align: 'center'
              },{
                field: 'operate',
                title: 'Acción',
                align: 'center',
                clickToSelect: false,
                events: window.operateEvents,
                formatter: operateFormatter
              }]
            ]
          })

          $remove.click(function (e) {
           console.log('removeClic',e);
          })
        }
      
        $(function() {
          initTable()
        })
      </script> 
      
</body>
</html>